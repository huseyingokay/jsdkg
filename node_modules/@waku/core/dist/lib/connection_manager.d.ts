import type { Libp2p } from "@libp2p/interface-libp2p";
import type { ConnectionManagerOptions, IRelay } from "@waku/interfaces";
import { KeepAliveOptions } from "./keep_alive_manager.js";
export declare const DEFAULT_MAX_BOOTSTRAP_PEERS_ALLOWED = 1;
export declare const DEFAULT_MAX_DIAL_ATTEMPTS_FOR_PEER = 3;
export declare class ConnectionManager {
    private static instances;
    private keepAliveManager;
    private options;
    private libp2pComponents;
    private dialAttemptsForPeer;
    static create(peerId: string, libp2p: Libp2p, keepAliveOptions: KeepAliveOptions, relay?: IRelay, options?: ConnectionManagerOptions): ConnectionManager;
    private constructor();
    private run;
    stop(): void;
    private dialPeer;
    private startPeerDiscoveryListener;
    private startPeerConnectionListener;
    private startPeerDisconnectionListener;
    private onEventHandlers;
    /**
     * Checks if the peer is dialable based on the following conditions:
     * 1. If the peer is a bootstrap peer, it is only dialable if the number of current bootstrap connections is less than the max allowed.
     * 2. If the peer is not a bootstrap peer
     */
    private shouldDialPeer;
    /**
     * Fetches the tag names for a given peer
     */
    private getTagNamesForPeer;
}
